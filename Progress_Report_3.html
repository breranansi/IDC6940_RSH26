<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>progress_report_3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Progress_Report_3_files/libs/clipboard/clipboard.min.js"></script>
<script src="Progress_Report_3_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Progress_Report_3_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Progress_Report_3_files/libs/quarto-html/popper.min.js"></script>
<script src="Progress_Report_3_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Progress_Report_3_files/libs/quarto-html/anchor.min.js"></script>
<link href="Progress_Report_3_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Progress_Report_3_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Progress_Report_3_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Progress_Report_3_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Progress_Report_3_files/libs/bootstrap/bootstrap-58427a5cdc6db58bd8a7f543ac0b26a6.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<p><a href="https://colab.research.google.com/github/breranansi/IDC6940_RSH26/blob/main/Progress_Report_3.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a></p>
<section id="idc6940" class="level1">
<h1>IDC6940</h1>
<section id="weekly-report-3" class="level2">
<h2 class="anchored" data-anchor-id="weekly-report-3">Weekly Report 3</h2>
<section id="richard-henry-delanyce-rose" class="level3">
<h3 class="anchored" data-anchor-id="richard-henry-delanyce-rose">Richard Henry &amp; Delanyce Rose</h3>
<p>June 26, 2025</p>
<p>We will continue with two symbolic regression libraries available for Python.</p>
</section>
</section>
<section id="pysr" class="level2">
<h2 class="anchored" data-anchor-id="pysr">PySR</h2>
<p>Since this library runs in Google Colab, but continually dies on a local machine running Jupyter notebook, the first step is to ensure that the library is installed on the current instance of Colab.</p>
<div id="cell-2" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="57967884-0264-4c46-e18d-d3d8b0c0f5b5" data-execution_count="16">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install <span class="op">-</span>U pysr</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: pysr in /usr/local/lib/python3.11/dist-packages (1.5.8)
Requirement already satisfied: click&lt;9.0.0,&gt;=7.0.0 in /usr/local/lib/python3.11/dist-packages (from pysr) (8.2.1)
Requirement already satisfied: juliacall&lt;0.9.26,&gt;=0.9.24 in /usr/local/lib/python3.11/dist-packages (from pysr) (0.9.25)
Requirement already satisfied: numpy&lt;3.0.0,&gt;=1.13.0 in /usr/local/lib/python3.11/dist-packages (from pysr) (2.0.2)
Requirement already satisfied: pandas&lt;3.0.0,&gt;=0.21.0 in /usr/local/lib/python3.11/dist-packages (from pysr) (2.2.2)
Requirement already satisfied: scikit-learn&lt;2.0.0,&gt;=1.0.0 in /usr/local/lib/python3.11/dist-packages (from pysr) (1.6.1)
Requirement already satisfied: sympy&lt;2.0.0,&gt;=1.0.0 in /usr/local/lib/python3.11/dist-packages (from pysr) (1.13.1)
Requirement already satisfied: typing-extensions&lt;5.0.0,&gt;=4.0.0 in /usr/local/lib/python3.11/dist-packages (from pysr) (4.14.0)
Requirement already satisfied: juliapkg~=0.1.17 in /usr/local/lib/python3.11/dist-packages (from juliacall&lt;0.9.26,&gt;=0.9.24-&gt;pysr) (0.1.17)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas&lt;3.0.0,&gt;=0.21.0-&gt;pysr) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas&lt;3.0.0,&gt;=0.21.0-&gt;pysr) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas&lt;3.0.0,&gt;=0.21.0-&gt;pysr) (2025.2)
Requirement already satisfied: scipy&gt;=1.6.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn&lt;2.0.0,&gt;=1.0.0-&gt;pysr) (1.15.3)
Requirement already satisfied: joblib&gt;=1.2.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn&lt;2.0.0,&gt;=1.0.0-&gt;pysr) (1.5.1)
Requirement already satisfied: threadpoolctl&gt;=3.1.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn&lt;2.0.0,&gt;=1.0.0-&gt;pysr) (3.6.0)
Requirement already satisfied: mpmath&lt;1.4,&gt;=1.1.0 in /usr/local/lib/python3.11/dist-packages (from sympy&lt;2.0.0,&gt;=1.0.0-&gt;pysr) (1.3.0)
Requirement already satisfied: filelock&lt;4.0,&gt;=3.16 in /usr/local/lib/python3.11/dist-packages (from juliapkg~=0.1.17-&gt;juliacall&lt;0.9.26,&gt;=0.9.24-&gt;pysr) (3.18.0)
Requirement already satisfied: semver&lt;4.0,&gt;=3.0 in /usr/local/lib/python3.11/dist-packages (from juliapkg~=0.1.17-&gt;juliacall&lt;0.9.26,&gt;=0.9.24-&gt;pysr) (3.0.4)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas&lt;3.0.0,&gt;=0.21.0-&gt;pysr) (1.17.0)</code></pre>
</div>
</div>
<p>Next we force the installation of the julia programming language by making a call to the Python side:</p>
<div id="cell-4" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import pysr</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we will import everything else we need:</p>
<div id="cell-6" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call libraries</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sympy <span class="im">as</span> sym</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pysr <span class="im">import</span> PySRRegressor</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Next, we rebuild our toy dataset and plot it.</p>
<div id="cell-8" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:472}}" data-outputid="8ec35aab-f37a-4a55-ff43-2fc1d871d99f" data-execution_count="19">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Build Two Copies of Toy Dataset</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>x4<span class="op">=</span>np.arange(start<span class="op">=</span><span class="fl">0.55</span>,stop<span class="op">=</span><span class="fl">1.075</span>,step<span class="op">=</span><span class="fl">0.025</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>x5<span class="op">=</span>np.arange(start<span class="op">=</span><span class="fl">0.55</span>,stop<span class="op">=</span><span class="fl">1.075</span>,step<span class="op">=</span><span class="fl">0.025</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>y4<span class="op">=</span><span class="fl">141.5</span><span class="op">/</span>x4<span class="op">-</span><span class="fl">131.5</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>y5<span class="op">=</span><span class="fl">141.5</span><span class="op">/</span>x5<span class="op">-</span><span class="fl">131.5</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>plt.plot(x4,y4,marker<span class="op">=</span><span class="st">"o"</span>,linestyle<span class="op">=</span><span class="st">"None"</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Specific Gravity"</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"API Gravity"</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"First Toy Dataset"</span>)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Progress_Report_3_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Next, we: - Initiate the Symbolic Regressor - Use the regressor to fit the toy dataset - Predict the API gravity values using the Regressor.</p>
<p>The creators of this library chose to use the scikit-learn workflow, so that the terminology is similar to what was used in progress report 1, with the exception of having to reshape the data because we only have one predictor.</p>
<p>We are using defaults for everything except for the random number seed.</p>
<div id="cell-10" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="929d2804-dc87-4f01-ae05-9d923aeea436" data-execution_count="20">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>t0 <span class="op">=</span> time.time()</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>myMod04<span class="op">=</span>PySRRegressor(random_state<span class="op">=</span><span class="dv">7</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>myMod04.fit(x4.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>),y4)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>y_pred04<span class="op">=</span>myMod04.predict(x4.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"time to fit: "</span>,time.time() <span class="op">-</span> t0, <span class="st">'seconds'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.11/dist-packages/pysr/sr.py:2811: UserWarning: Note: it looks like you are running in Jupyter. The progress bar will be turned off.
  warnings.warn(
/usr/local/lib/python3.11/dist-packages/pysr/sr.py:1873: UserWarning: Note: Setting `random_state` without also setting `deterministic=True` and `parallelism='serial'` will result in non-deterministic searches.
  warnings.warn(
[ Info: Started!</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Expressions evaluated per second: 3.660e+04
Progress: 185 / 3100 total iterations (5.968%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           4.305e-11  6.057e-02  y = ((141.5 / x₀) + -60.092) - 71.408
9           3.196e-11  1.489e-01  y = ((x₀ + 141.5) / x₀) + (-61.905 - 70.595)
21          2.496e-11  2.061e-02  y = ((((186.51 / (x₀ + x₀)) + ((96.494 / (x₀ + x₀)) + -8.3...
                                      28)) + -115.6) + (x₀ - 7.5748)) - x₀
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 3.680e+04
Progress: 377 / 3100 total iterations (12.161%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
11          2.780e-11  3.484e-02  y = (((-50.177 - x₀) + (141.5 / x₀)) + x₀) - 81.323
13          2.434e-11  6.654e-02  y = (248.09 / (x₀ + x₀)) + (-131.5 + (34.908 / (x₀ + x₀)))
15          1.880e-11  1.292e-01  y = (((228.07 / (x₀ + x₀)) + -117.43) + (54.935 / (x₀ + x₀...
                                      ))) + -14.066
23          1.602e-11  1.994e-02  y = (x₀ + -19.14) + ((((94.138 / (x₀ + x₀)) + -98.461) + (...
                                      (188.86 / (x₀ + x₀)) - (x₀ - -7.3012))) - 6.5983)
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 3.730e+04
Progress: 579 / 3100 total iterations (18.677%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
11          2.780e-11  3.484e-02  y = (((-50.177 - x₀) + (141.5 / x₀)) + x₀) - 81.323
13          2.434e-11  6.654e-02  y = (248.09 / (x₀ + x₀)) + (-131.5 + (34.908 / (x₀ + x₀)))
15          1.724e-11  1.725e-01  y = ((54.935 / (x₀ + x₀)) + ((228.07 / (x₀ + x₀)) + -117.4...
                                      3)) + -14.066
19          9.441e-12  1.505e-01  y = (((188.86 / (x₀ + x₀)) - (x₀ - -7.3012)) + (x₀ + -124....
                                      2)) + (94.138 / (x₀ + x₀))
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 3.590e+04
Progress: 790 / 3100 total iterations (25.484%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
11          2.780e-11  3.484e-02  y = (((-50.177 - x₀) + (141.5 / x₀)) + x₀) - 81.323
13          1.914e-11  1.866e-01  y = (68.078 / (x₀ + x₀)) + ((214.92 / (x₀ + x₀)) + -131.5)
15          1.724e-11  5.243e-02  y = ((54.935 / (x₀ + x₀)) + ((228.07 / (x₀ + x₀)) + -117.4...
                                      3)) + -14.066
17          1.672e-11  1.531e-02  y = ((125.03 / (x₀ + x₀)) - x₀) + ((157.97 / (x₀ + x₀)) + ...
                                      (x₀ + -131.5))
19          9.441e-12  2.857e-01  y = (((188.86 / (x₀ + x₀)) - (x₀ - -7.3012)) + (x₀ + -124....
                                      2)) + (94.138 / (x₀ + x₀))
21          8.402e-12  5.832e-02  y = ((x₀ - x₀) + (122.15 / (x₀ + x₀))) + (-129.1 + (((x₀ -...
                                       -160.85) / (x₀ + x₀)) + -2.9023))
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 3.720e+04
Progress: 1015 / 3100 total iterations (32.742%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
9           2.018e-11  2.299e-01  y = (33.4 / x₀) + ((108.1 / x₀) + -131.5)
13          1.914e-11  1.322e-02  y = (68.078 / (x₀ + x₀)) + ((214.92 / (x₀ + x₀)) + -131.5)
15          8.402e-12  4.117e-01  y = (122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) +...
                                       -132)
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 4.150e+04
Progress: 1366 / 3100 total iterations (44.065%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
9           2.018e-11  2.299e-01  y = (33.4 / x₀) + ((108.1 / x₀) + -131.5)
13          1.464e-11  8.028e-02  y = (87.241 / (x₀ + x₀)) + (-131.5 + (195.76 / (x₀ + x₀)))
15          8.402e-12  2.776e-01  y = (122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) +...
                                       -132)
17          6.965e-12  9.381e-02  y = ((122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) ...
                                      + -131.94)) - 0.064223
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 5.260e+04
Progress: 1850 / 3100 total iterations (59.677%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
9           1.880e-11  2.654e-01  y = ((42.384 / x₀) + -131.5) + (99.116 / x₀)
13          1.464e-11  6.250e-02  y = (87.241 / (x₀ + x₀)) + (-131.5 + (195.76 / (x₀ + x₀)))
15          8.402e-12  2.776e-01  y = (122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) +...
                                       -132)
17          6.965e-12  9.381e-02  y = ((122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) ...
                                      + -131.94)) - 0.064223
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.

Expressions evaluated per second: 6.590e+04
Progress: 2410 / 3100 total iterations (77.742%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
9           1.880e-11  2.654e-01  y = ((42.384 / x₀) + -131.5) + (99.116 / x₀)
13          1.464e-11  6.250e-02  y = (87.241 / (x₀ + x₀)) + (-131.5 + (195.76 / (x₀ + x₀)))
15          8.402e-12  2.776e-01  y = (122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) +...
                                       -132)
17          6.215e-12  1.508e-01  y = ((122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) ...
                                      + -132.46)) - -0.45653
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>[ Info: Final population:
[ Info: Results saved to:</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
Expressions evaluated per second: 7.140e+04
Progress: 2731 / 3100 total iterations (88.097%)
════════════════════════════════════════════════════════════════════════════════════════════════════
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
9           1.880e-11  2.654e-01  y = ((42.384 / x₀) + -131.5) + (99.116 / x₀)
13          1.464e-11  6.250e-02  y = (87.241 / (x₀ + x₀)) + (-131.5 + (195.76 / (x₀ + x₀)))
15          8.402e-12  2.776e-01  y = (122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) +...
                                       -132)
17          6.215e-12  1.508e-01  y = ((122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) ...
                                      + -132.46)) - -0.45653
───────────────────────────────────────────────────────────────────────────────────────────────────
════════════════════════════════════════════════════════════════════════════════════════════════════
Press 'q' and then &lt;enter&gt; to stop execution early.
───────────────────────────────────────────────────────────────────────────────────────────────────
Complexity  Loss       Score      Equation
1           1.321e+03  0.000e+00  y = 52.149
3           6.519e+02  3.532e-01  y = 44 / x₀
5           4.859e-11  1.511e+01  y = (141.5 / x₀) + -131.5
7           3.196e-11  2.095e-01  y = ((x₀ + 141.5) / x₀) + -132.5
9           1.880e-11  2.654e-01  y = ((42.384 / x₀) + -131.5) + (99.116 / x₀)
13          1.464e-11  6.250e-02  y = (87.241 / (x₀ + x₀)) + (-131.5 + (195.76 / (x₀ + x₀)))
15          8.402e-12  2.776e-01  y = (122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) +...
                                       -132)
17          6.215e-12  1.508e-01  y = ((122.15 / (x₀ + x₀)) + (((x₀ - -160.85) / (x₀ + x₀)) ...
                                      + -132.46)) - -0.45653
───────────────────────────────────────────────────────────────────────────────────────────────────
time to fit:  49.09089636802673 seconds
  - outputs/20250626_201459_NJnrIf/hall_of_fame.csv</code></pre>
</div>
</div>
<div id="cell-11" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:472}}" data-outputid="321f25ae-f72f-4bad-e026-0aadb30e357d" data-execution_count="21">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>plt.scatter(x4,y4,label<span class="op">=</span><span class="st">"Raw"</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>plt.plot(x4,y_pred04,label<span class="op">=</span><span class="st">"Fit"</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Specific Gravity"</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"API Gravity"</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"First Toy Dataset - PySR Fit"</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Progress_Report_3_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We appear to have a wonderful fit, so let us look at the winning equation:</p>
<div id="cell-13" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:54}}" data-outputid="ee58b657-f9bb-4bcb-a8bb-9398164872c3" data-execution_count="22">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>myEq04<span class="op">=</span>myMod04.sympy()</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>myEq04</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>(x0 - 1*(-160.84647))/(x0 + x0) - 132.00002 + 122.15356/(x0 + x0)</code></pre>
</div>
</div>
<p>On first glance, this equation looks too complicated. However, since it is in <code>sympy</code> format, we can ask for a simplified version:</p>
<div id="cell-15" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:54}}" data-outputid="3d9fdab0-9f21-42b7-b129-5213805e2a48" data-execution_count="23">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>sym.simplify(myEq04)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>-131.50002 + 141.500015/x0</code></pre>
</div>
</div>
<p>This is very close to our target equation. The big difference between <code>PySR</code> and <code>gramEvol</code> is that the constants calculated from regression instead of being picked from a list.</p>
<p>Just to be clear, here is the <code>sympy</code> version of the target equation:</p>
<div id="cell-17" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:51}}" data-outputid="36cad795-932e-49c0-a47e-2e463e64bcda" data-execution_count="24">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> sym.symbols(<span class="st">'x y'</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>myTarg<span class="op">=</span>sym.sympify(<span class="fl">141.5</span><span class="op">/</span>x<span class="op">-</span><span class="fl">131.5</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>myTarg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>-131.5 + 141.5/x</code></pre>
</div>
</div>
</section>
<section id="gplearn" class="level2">
<h2 class="anchored" data-anchor-id="gplearn">GPLearn</h2>
<p>Next, we are going to repeat the workflow with a similar python library.</p>
<div id="cell-19" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="5e38872a-5113-4551-9248-e7e436a2e07a" data-execution_count="25">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install libraries</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install gplearn</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: gplearn in /usr/local/lib/python3.11/dist-packages (0.4.2)
Requirement already satisfied: scikit-learn&gt;=1.0.2 in /usr/local/lib/python3.11/dist-packages (from gplearn) (1.6.1)
Requirement already satisfied: joblib&gt;=1.0.0 in /usr/local/lib/python3.11/dist-packages (from gplearn) (1.5.1)
Requirement already satisfied: numpy&gt;=1.19.5 in /usr/local/lib/python3.11/dist-packages (from scikit-learn&gt;=1.0.2-&gt;gplearn) (2.0.2)
Requirement already satisfied: scipy&gt;=1.6.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn&gt;=1.0.2-&gt;gplearn) (1.15.3)
Requirement already satisfied: threadpoolctl&gt;=3.1.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn&gt;=1.0.2-&gt;gplearn) (3.6.0)</code></pre>
</div>
</div>
<div id="cell-20" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Call libraries</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#import numpy as np</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#import pandas as pd</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#import sympy as sym</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#import matplotlib.pyplot as plt</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> gplearn.genetic <span class="im">import</span> SymbolicRegressor</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#import time</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This library also follows scikit-learn:</p>
<div id="cell-22" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}}" data-outputid="cc02a78a-55d6-4023-a66c-7f9d627e6683" data-execution_count="27">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>t1 <span class="op">=</span> time.time()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>myMod05<span class="op">=</span>SymbolicRegressor(verbose<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>myMod05.fit(x5.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>),y5)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>y_pred05<span class="op">=</span>myMod05.predict(x5.reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"time to fit: "</span>,time.time() <span class="op">-</span> t1, <span class="st">'seconds'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.11/dist-packages/sklearn/base.py:474: FutureWarning: `BaseEstimator._validate_data` is deprecated in 1.6 and will be removed in 1.7. Use `sklearn.utils.validation.validate_data` instead. This function becomes public and is part of the scikit-learn developer API.
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>    |   Population Average    |             Best Individual              |
---- ------------------------- ------------------------------------------ ----------
 Gen   Length          Fitness   Length          Fitness      OOB Fitness  Time Left
   0    48.77          230.199      127          16.0636              N/A      1.19m
   1    69.97           61.557       39          9.73818              N/A     53.49s
   2   105.94          109.546       75          6.65517              N/A     59.87s
   3   111.77           594.88      135           5.8833              N/A      1.22m
   4   101.34           430.16      111          4.87836              N/A      1.09m
   5   118.17          829.213      123          4.32692              N/A     26.02s
   6   123.19          636.761      111          3.81706              N/A     20.34s
   7   117.01          919.962      125          3.68446              N/A     18.69s
   8   114.20          1030.04      139          2.86918              N/A     16.70s
   9   118.03          1009.22      139          2.86918              N/A     21.09s
  10   121.82          490.347      139          2.82478              N/A     22.30s
  11   126.96          1320.42      119          2.55424              N/A     15.45s
  12   139.68          319.006      141          2.33987              N/A     11.55s
  13   143.51          724.901      175          1.91984              N/A     10.11s
  14   147.76          996.678      179          1.82939              N/A      8.36s
  15   149.28          675.834      175          1.57828              N/A      6.98s
  16   169.78          876.069      211          1.54558              N/A      5.82s
  17   178.75          967.873      211          1.54558              N/A      5.76s
  18   178.07          212.905      215          1.53758              N/A      2.19s
  19   181.07          586.638      283          1.49769              N/A      0.00s
time to fit:  47.844974517822266 seconds</code></pre>
</div>
</div>
<div id="cell-23" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:472}}" data-outputid="5dee9daf-cc26-41a3-8064-e6b5e4ba71e4" data-execution_count="28">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>plt.scatter(x5,y5,label<span class="op">=</span><span class="st">"Raw"</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>plt.plot(x5,y_pred05,label<span class="op">=</span><span class="st">"Fit"</span>)</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Specific Gravity"</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"API Gravity"</span>)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"First Toy Dataset - GPLearn Fit"</span>)</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>plt.grid()</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="Progress_Report_3_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The fit is <em>almost</em> as good as PySR, and it ran <em>almost</em> twice as fast.</p>
<p>Since we chose <em>nearly</em> default parameters for this library we need to provide a dictionary for it to convert the winning equation to sympy:</p>
<div id="cell-25" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:144}}" data-outputid="439b735c-7e10-4abc-ce63-00baa6622c08" data-execution_count="29">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>converter <span class="op">=</span> {</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'add'</span>: <span class="kw">lambda</span> x, y : x <span class="op">+</span> y,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sub'</span>: <span class="kw">lambda</span> x, y : x <span class="op">-</span> y,</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'mul'</span>: <span class="kw">lambda</span> x, y : x<span class="op">*</span>y,</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'div'</span>: <span class="kw">lambda</span> x, y : x<span class="op">/</span>y,</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sqrt'</span>: <span class="kw">lambda</span> x : x<span class="op">**</span><span class="fl">0.5</span>,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">'log'</span>: <span class="kw">lambda</span> x : log(x),</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">'abs'</span>: <span class="kw">lambda</span> x : <span class="bu">abs</span>(x),</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'neg'</span>: <span class="kw">lambda</span> x : <span class="op">-</span>x,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">'inv'</span>: <span class="kw">lambda</span> x : <span class="dv">1</span><span class="op">/</span>x,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">'max'</span>: <span class="kw">lambda</span> x, y : <span class="bu">max</span>(x, y),</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'min'</span>: <span class="kw">lambda</span> x, y : <span class="bu">min</span>(x, y),</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">'sin'</span>: <span class="kw">lambda</span> x : sin(x),</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'cos'</span>: <span class="kw">lambda</span> x : cos(x),</span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pow'</span>: <span class="kw">lambda</span> x, y : x<span class="op">**</span>y,</span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>myEq05 <span class="op">=</span> sym.sympify(<span class="bu">str</span>(myMod05._program), <span class="bu">locals</span><span class="op">=</span>converter)</span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>myEq05</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>2.86285714285714*(X0 - 0.357)*(-(2.710027100271*X0 + 0.059/X0)*(-0.8 + (3.16000385319333*X0*(X0 - 0.26) + 4.13139611542167*X0 + 3.61861904761905)/(X0 - 0.357 - 0.872428571428571/X0) + 1.43142857142857/X0) + (-2.80898876404494*X0*(-X0 - 0.306) + 0.501)/((3.19488817891374*X0 + 1)/(1.489*X0 - (2.710027100271*X0 + 0.059/X0)*(0.356 + (3.16000385319333*X0*(X0 - 0.26) + 4.13139611542167*X0 + 3.61861904761905)/(X0 - 0.357 - 0.872428571428571/X0) + 0.791139240506329*(3.19488817891374*X0 + 1)/X0) + 0.643 - 0.872428571428571/X0) - 1) - 231.122687272957/X0**2)/((1.84152184795823 - 16.8788528927984*X0)*(X0**2 + 0.26*X0))</code></pre>
</div>
</div>
<p>Hmm. Lets have it simplified:</p>
<div id="cell-27" class="cell" data-quarto-private-1="{&quot;key&quot;:&quot;colab&quot;,&quot;value&quot;:{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:78}}" data-outputid="93336663-7718-4446-fa42-79246de9608a" data-execution_count="30">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>sym.simplify(myEq05)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>(278.820002953071*X0**13 + 640.018813576176*X0**12 + 690.754307137746*X0**11 + 268.31036133222*X0**10 + 5457.87712812355*X0**9 + 7619.62577640509*X0**8 - 6937.47921256253*X0**7 - 16804.077869542*X0**6 + 1575.78354402274*X0**5 + 6273.6100798772*X0**4 - 102.256793911761*X0**3 + 2.9432049685599*X0**2 - 170.865461382981*X0 - 8.39525390570684)/(X0**3*(144.545366338012*X0**10 + 282.301566657126*X0**9 - 48.7993700979364*X0**8 - 481.522001438071*X0**7 - 191.930188319542*X0**6 + 109.695704741436*X0**5 + 59.6272490047645*X0**4 + 16.4463177493779*X0**3 + 1.59776694954208*X0**2 - 0.303370477591*X0 - 0.0170104154782206))</code></pre>
</div>
</div>
<p>That did not change much. (:-&lt;) This is a <em>good</em> equation, but it is much more complicated than it needs to be.</p>
</section>
<section id="tentative-conclusions" class="level2">
<h2 class="anchored" data-anchor-id="tentative-conclusions">Tentative Conclusions</h2>
<ol type="1">
<li>Setting the random number seed does <em>not</em> guarantee the same answers in either library.</li>
<li>Both libraries “work”, but one may need more tuning than the other to produce actionable results.</li>
<li>It would appear as though domain knowledge may be necessary to tell whether a winning equation is “simple” enough.</li>
</ol>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>